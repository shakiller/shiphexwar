<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π –ú–æ—Ä—Å–∫–æ–π –ë–æ–π</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>‚öì –ì–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π –ú–æ—Ä—Å–∫–æ–π –ë–æ–π</h1>
        
        <div class="game-info">
            <div class="game-mode">
                <button class="mode-btn active" id="modeLocal">üë• –õ–æ–∫–∞–ª—å–Ω–∞—è<br> –∏–≥—Ä–∞</button>
                <button class="mode-btn" id="modeOnline">üåê –û–Ω–ª–∞–π–Ω<br> –∏–≥—Ä–∞</button>
            </div>
            
            <div id="onlineLobby" style="display: none;">
                <h3>–û–Ω–ª–∞–π–Ω –∏–≥—Ä–∞</h3>
                <div class="online-buttons">
                    <button onclick="createOnlineGame()" class="control-btn">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
                    <div style="margin: 8px 0; text-align: center">–∏–ª–∏</div>
                    <input type="text" id="roomIdInput" placeholder="ID –∫–æ–º–Ω–∞—Ç—ã">
                    <button onclick="joinOnlineGame()" class="control-btn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
                </div>
                <div id="connectionStatus"></div>
                <div id="roomInfo"></div>
            </div>
            <div class="game-phase" id="gamePhase">–§–∞–∑–∞ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ—Ä–∞–±–ª–µ–π</div>
            
            <div class="controls">
                <button id="randomShips">–°–ª—É—á–∞–π–Ω–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞</button>
                <button id="startGame" style="display: none;">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="newGameBtn">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                <button id="toggleTouchZones" class="touch-zones-toggle">–ü–æ–∫–∞–∑–∞—Ç—å –∑–æ–Ω—ã –∫–ª–∏–∫–∞</button>
            </div>

            <div class="rotation-controls">
                <button class="rotation-btn" id="rotateLeft">‚Ü∂ –ü–æ–≤–µ—Ä–Ω—É—Ç—å –≤–ª–µ–≤–æ</button>
                <div class="rotation-info" id="rotationInfo">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ‚Üò</div>
                <button class="rotation-btn" id="rotateRight">–ü–æ–≤–µ—Ä–Ω—É—Ç—å –≤–ø—Ä–∞–≤–æ ‚Ü∑</button>
            </div>
            <div class="players">
                <div class="player me" id="playerMe">
                    –í–∞—à </br>—Ñ–ª–æ—Ç
                    <div class="score" id="scoreMe">0 –∫–æ—Ä–∞–±–ª–µ–π</div>
                </div>
                <div class="player opponent" id="playerOpponent">
                    –§–ª–æ—Ç </br>–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
                    <div class="score" id="scoreOpponent">0 –∫–æ—Ä–∞–±–ª–µ–π</div>
                </div>
            </div>
            
            
            
            <div class="direction-hint">
                üí° –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π —Å–µ—Ç–∫–µ: ‚Üì (–≤–µ—Ä—Ç–∏–∫–∞–ª—å), ‚Üò (–¥–∏–∞–≥–æ–Ω–∞–ª—å), ‚Üô (–¥–∏–∞–≥–æ–Ω–∞–ª—å), ‚Üë (–≤–µ—Ä—Ç–∏–∫–∞–ª—å), ‚Üñ (–¥–∏–∞–≥–æ–Ω–∞–ª—å), ‚Üó (–¥–∏–∞–≥–æ–Ω–∞–ª—å)
            </div>
            
            <div class="ship-palette" id="shipPalette">
                <!-- –ö–æ—Ä–∞–±–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="delete-hint">üí° –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ—Ä–∞–±–ª—è –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –Ω–µ–º—É –Ω–∞ –ø–æ–ª–µ</div>
            
            <!-- –ë–ª–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–ª–∏–∫–µ -->
            <div class="last-click-info" id="lastClickInfo" style="display: none;">
                –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–∞–∂–∞—Ç–∞—è –∫–ª–µ—Ç–∫–∞: <span id="lastClickCoords">-</span>
            </div>
            
            <div class="coords-debug" id="coordsDebug">
                –û—Ç–ª–∞–¥–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: <span id="coordsInfo">-</span>
            </div>
            
            <div class="debug-info" id="debugInfo"></div>
<div class="test-controls">
                <button id="toggleTestMode" class="test-mode-btn">–í–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π</button>
                <div id="testInfo" class="test-info" style="display: none;">
                    <h3>–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π</h3>
                    <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–ª–µ—Ç–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ 3 –ª–∏–Ω–∏–∏</p>
                    <div id="testResults"></div>
                </div>
            </div>
            <button id="toggleForbiddenCells" class="control-button">–ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –∫–ª–µ—Ç–∫–∏</button>
        </div>

        <div class="game-boards">
            <div class="board-container">
                <div class="board-title">–í–∞—à–µ –ø–æ–ª–µ</div>
                <div class="canvas-container">
                    <div class="mouse-coords" id="myBoardCoords">x: 0, y: 0</div>
                    <canvas id="myBoard"></canvas>
                </div>
            </div>
            <div class="board-container">
                <div class="board-title">–ü–æ–ª–µ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞</div>
                <div class="canvas-container">
                    <div class="mouse-coords" id="opponentBoardCoords">x: 0, y: 0</div>
                    <canvas id="opponentBoard"></canvas>
                </div>
            </div>
        </div>

        <div class="instructions">
            <p><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–æ—Ä–∞–±–ª—å –≤ –ø–∞–ª–∏—Ç—Ä–µ, –∑–∞—Ç–µ–º –Ω–∞ –ø–æ–ª–µ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏–ª–∏ –∫–ª–∞–≤–∏—à—É R.</p>
            <p><strong>–¶–µ–ª—å:</strong> –ü–µ—Ä–≤—ã–º –ø–æ—Ç–æ–ø–∏—Ç–µ –≤—Å–µ –∫–æ—Ä–∞–±–ª–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞!</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>